# æ•…äº‹å¯¶ç›’ Kids Story App

ä¸€å€‹å°ˆç‚º 3-6 æ­²å­¸é½¡å‰å…’ç«¥è¨­è¨ˆçš„ Android æ•…äº‹æ‡‰ç”¨ç¨‹å¼ï¼Œæ”¯æ´å¤šè§’è‰²èªéŸ³ã€ä¸­è‹±é›™èªå’Œ AI æ•…äº‹ç”Ÿæˆã€‚

## å°ˆæ¡ˆæ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ“š **é è¨­æ•…äº‹åº«**ï¼šç²¾é¸å…’ç«¥æ•…äº‹ï¼ˆä¸­è‹±é›™èªï¼‰
- ğŸ¤– **AI æ•…äº‹ç”Ÿæˆ**ï¼šä½¿ç”¨ Google Gemini å³æ™‚å‰µä½œæ–°æ•…äº‹
- ğŸ­ **å¤šè§’è‰²èªéŸ³**ï¼šä¸åŒè§’è‰²ä½¿ç”¨ä¸åŒè²éŸ³ï¼ˆElevenLabs TTSï¼‰
- ğŸŒ **é›™èªæ”¯æŒ**ï¼šä¸­æ–‡å’Œè‹±æ–‡åˆ‡æ›
- ğŸ“± **é›¢ç·šæ’­æ”¾**ï¼šæ”¯æ´é›¢ç·šä¸‹è¼‰å’Œæ’­æ”¾
- ğŸ¨ **å…’ç«¥å‹å¥½ç•Œé¢**ï¼šå¤§åœ–ç¤ºã€ç°¡å–®æ“ä½œã€ç”Ÿå‹•å‹•ç•«

## æŠ€è¡“æ¶æ§‹

### é–‹ç™¼ç’°å¢ƒ
- **èªè¨€**ï¼šKotlin
- **æœ€ä½ SDK**ï¼š26 (Android 8.0)
- **ç›®æ¨™ SDK**ï¼š34 (Android 14)
- **å»ºæ§‹å·¥å…·**ï¼šGradle 8.2

### æ ¸å¿ƒæŠ€è¡“æ£§
- **UI æ¡†æ¶**ï¼šJetpack Compose + Material 3
- **æ¶æ§‹æ¨¡å¼**ï¼šClean Architecture + MVI
- **ä¾è³´æ³¨å…¥**ï¼šHilt
- **è³‡æ–™åº«**ï¼šRoom + DataStore
- **ç¶²è·¯**ï¼šRetrofit + OkHttp
- **åª’é«”æ’­æ”¾**ï¼šMedia3 ExoPlayer
- **å”ç¨‹**ï¼šKotlin Coroutines + Flow

### AI æœå‹™
- **æ•…äº‹ç”Ÿæˆ**ï¼šGoogle Gemini 2.0 Flash API
- **èªéŸ³åˆæˆ**ï¼šElevenLabs Multilingual V2 (æˆ– Google Cloud TTS)
- **åœ–ç‰‡**ï¼šé è¨­æ’ç•«åº« + DALL-E 3ï¼ˆå¯é¸ï¼‰

## å°ˆæ¡ˆçµæ§‹

```
app/src/main/java/com/example/kidsstory/
â”œâ”€â”€ data/                      # è³‡æ–™å±¤
â”‚   â”œâ”€â”€ database/              # Room è³‡æ–™åº«
â”‚   â”‚   â”œâ”€â”€ entity/            # å¯¦é«”é¡
â”‚   â”‚   â”œâ”€â”€ dao/               # è³‡æ–™å­˜å–ç‰©ä»¶
â”‚   â”‚   â””â”€â”€ AppDatabase.kt
â”‚   â”œâ”€â”€ local/                 # æœ¬åœ°è³‡æ–™æº
â”‚   â”œâ”€â”€ remote/                # é ç«¯ API
â”‚   â””â”€â”€ services/              # æœå‹™é¡
â”œâ”€â”€ di/                        # ä¾è³´æ³¨å…¥æ¨¡çµ„
â”‚   â”œâ”€â”€ DatabaseModule.kt
â”‚   â””â”€â”€ DataStoreModule.kt
â”œâ”€â”€ domain/                    # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”œâ”€â”€ model/                 # é ˜åŸŸæ¨¡å‹
â”‚   â”œâ”€â”€ repository/            # è³‡æ–™åº«ä»‹é¢
â”‚   â””â”€â”€ usecases/              # ç”¨ä¾‹
â”œâ”€â”€ presentation/              # è¡¨ç¤ºå±¤
â”‚   â”œâ”€â”€ navigation/            # å°èˆª
â”‚   â”œâ”€â”€ screens/               # å„å€‹ç•«é¢
â”‚   â”‚   â”œâ”€â”€ library/           # æ•…äº‹åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ player/            # æ’­æ”¾å™¨
â”‚   â”‚   â””â”€â”€ ai_generation/     # AI ç”Ÿæˆ
â”‚   â”œâ”€â”€ theme/                 # UI ä¸»é¡Œ
â”‚   â””â”€â”€ components/            # å¯é‡ç”¨çµ„ä»¶
â”œâ”€â”€ MainActivity.kt
â””â”€â”€ KidsStoryApplication.kt
```

## é–‹ç™¼è¨ˆç•«

### ç¬¬ 1 é€±ï¼šåŸºç¤æ¶æ§‹ âœ…
- [x] Kotlin + Jetpack Compose å°ˆæ¡ˆåˆå§‹åŒ–
- [x] Hilt ä¾è³´æ³¨å…¥é…ç½®
- [x] Room è³‡æ–™åº«è¨­è¨ˆèˆ‡å¯¦ä½œ
- [x] å°èˆªçµæ§‹ï¼ˆNavigation Composeï¼‰
- [x] åŸºç¤ UI ä¸»é¡Œå’Œçµ„ä»¶

### ç¬¬ 2 é€±ï¼šé è¨­æ•…äº‹åŠŸèƒ½ âœ…
- [x] æº–å‚™ 5-10 å€‹é è¨­æ•…äº‹ï¼ˆä¸­è‹±æ–‡ï¼‰
- [x] æ•…äº‹åˆ—è¡¨ UI å¯¦ä½œ
- [x] åŸºç¤æ’­æ”¾å™¨ UI
- [x] è‡¨æ™‚ä½¿ç”¨ Android ç³»çµ± TTS æ¸¬è©¦
- [x] é è¨­æ•…äº‹è³‡æ–™åŒ¯å…¥

### ç¬¬ 3 é€±ï¼šAI æ•…äº‹ç”Ÿæˆ ğŸ”„
- [x] æ•´åˆ Google Gemini API
- [x] AI ç”Ÿæˆ UIï¼ˆä¸»é¡Œ/è§’è‰²é¸æ“‡ï¼‰
- [x] æ•…äº‹ç”Ÿæˆæµç¨‹å¯¦ä½œ
- [x] ç”Ÿæˆå…§å®¹å„²å­˜åˆ°è³‡æ–™åº«
- [ ] å…§å®¹å®‰å…¨éæ¿¾ï¼ˆä½¿ç”¨ Gemini å…§å»ºå®‰å…¨è¨­å®šï¼‰
- [ ] å®Œæ•´æ¸¬è©¦èˆ‡å„ªåŒ–

### ç¬¬ 4 é€±ï¼šé«˜å“è³ªå¤šè§’è‰²èªéŸ³
- [ ] æ•´åˆ ElevenLabs APIï¼ˆæˆ–ç¹¼çºŒä½¿ç”¨ç³»çµ± TTSï¼‰
- [ ] ç‚ºé è¨­æ•…äº‹é ç”Ÿæˆå¤šè§’è‰²éŸ³è¨Š
- [ ] Media3 ExoPlayer æ•´åˆ
- [ ] è§’è‰²é ­åƒå’Œå‹•ç•«
- [ ] å­—å¹•åŒæ­¥å¯¦ä½œ

### ç¬¬ 5 é€±ï¼šé›¢ç·šæ”¯æ´
- [ ] é è¨­æ•…äº‹è³‡æºæ‰“åŒ…ï¼ˆassetsï¼‰
- [ ] éŸ³è¨Šå¿«å–ç®¡ç†å¯¦ä½œ
- [ ] ä¸‹è¼‰ç®¡ç†åŠŸèƒ½
- [ ] é›¢ç·šæ’­æ”¾æ¸¬è©¦
- [ ] ä¸­è‹±æ–‡åˆ‡æ›åŠŸèƒ½

### ç¬¬ 6 é€±ï¼šå„ªåŒ–èˆ‡ç™¼å¸ƒæº–å‚™
- [ ] UI/UX å„ªåŒ–ï¼ˆå…’ç«¥å‹å¥½è¨­è¨ˆï¼‰
- [ ] æ•ˆèƒ½å„ªåŒ–ï¼ˆè¨˜æ†¶é«”ã€é›»æ± ï¼‰
- [ ] éŸ³è¨Šå£“ç¸®å„ªåŒ–
- [ ] Bug ä¿®å¾©
- [ ] Google Play Store æº–å‚™
- [ ] å…§æ¸¬ç‰ˆç™¼å¸ƒ

## è³‡æ–™åº«çµæ§‹

### æ ¸å¿ƒå¯¦é«”

**StoryEntity**ï¼ˆæ•…äº‹ï¼‰
- id, title, titleEn
- ageRange, duration, category
- isPreset, isDownloaded
- coverImagePath
- createdAt, lastPlayedAt

**StorySegmentEntity**ï¼ˆæ•…äº‹æ®µè½ï¼‰
- id, storyId, sequenceNumber
- contentZh, contentEn
- characterRole
- audioPathZh, audioPathEn
- imageUrls, duration

**CharacterEntity**ï¼ˆè§’è‰²ï¼‰
- id, name, nameEn
- role, voiceId
- avatarPath, description

**PlayHistoryEntity**ï¼ˆæ’­æ”¾æ­·å²ï¼‰
- id, storyId
- playedAt, lastPosition
- completed, language

## é–‹å§‹é–‹ç™¼

### å…ˆæ±ºæ¢ä»¶
1. Android Studio Hedgehog | 2023.1.1 æˆ–æ›´æ–°ç‰ˆæœ¬
2. JDK 17
3. Android SDK 34

### API é‡‘é‘°è¨­å®šï¼ˆå¿…é ˆï¼Œç”¨æ–¼ AI åŠŸèƒ½ï¼‰

**âš ï¸ é‡è¦ï¼š** è¦ä½¿ç”¨ AI æ•…äº‹ç”ŸæˆåŠŸèƒ½ï¼Œå¿…é ˆå…ˆè¨­å®š Gemini API Keyã€‚

åœ¨ `local.properties` ä¸­æ–°å¢ï¼š
```properties
GEMINI_API_KEY=your_gemini_api_key_here
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
```

**è©³ç´°è¨­å®šæŒ‡å—**ï¼šè«‹åƒé–± [README_API_SETUP.md](./README_API_SETUP.md)

**å¿«é€Ÿé–‹å§‹**ï¼š
1. å‰å¾€ https://makersuite.google.com/app/apikey
2. å–å¾—å…è²» API Key
3. è¤‡è£½ `local.properties.example` ç‚º `local.properties`
4. å¡«å…¥ä½ çš„ API Key
5. Rebuild Project

### å»ºæ§‹èˆ‡åŸ·è¡Œ
```bash
# è¤‡è£½å°ˆæ¡ˆ
git clone [repository-url]
cd story

# å»ºæ§‹å°ˆæ¡ˆ
./gradlew build

# å®‰è£åˆ°è£ç½®
./gradlew installDebug

# åŸ·è¡Œæ¸¬è©¦
./gradlew test
```

## æˆæœ¬ä¼°ç®—

### æœˆé‹ç‡Ÿæˆæœ¬ï¼ˆ10,000 MAUï¼‰
- æ•…äº‹ç”Ÿæˆï¼š~$0.66/æœˆï¼ˆGemini 2.0 Flashï¼‰
- èªéŸ³ç”Ÿæˆï¼š~$50/æœˆï¼ˆGoogle Cloud TTSï¼‰
- åœ–ç‰‡ç”Ÿæˆï¼š~$5-10/æœˆï¼ˆDALL-E 3ï¼ŒæŒ‰éœ€ï¼‰
- **ç¸½è¨ˆ**ï¼š< $60/æœˆï¼ˆäººå‡ < $0.006/æœˆï¼‰

### å„ªåŒ–ç­–ç•¥
- æ°¸ä¹…å¿«å–æ‰€æœ‰ AI ç”Ÿæˆå…§å®¹
- ç›¸ä¼¼æ•…äº‹æª¢æ¸¬ï¼ˆé¿å…é‡è¤‡ç”Ÿæˆï¼‰
- é ç”Ÿæˆç†±é–€çµ„åˆï¼ˆå¾Œå°ä»»å‹™ï¼‰
- æ··åˆæ¨¡å‹ç­–ç•¥ï¼ˆç·šä¸Š/é›¢ç·šï¼‰

## æˆæ¬Š

[å¾…å®š]

## è¯çµ¡æ–¹å¼

[å¾…å®š]

---

**æ³¨æ„**ï¼šæœ¬å°ˆæ¡ˆç›®å‰è™•æ–¼é–‹ç™¼éšæ®µï¼ˆç¬¬ 1 é€±å®Œæˆï¼‰ï¼Œå°šæœªæº–å‚™å¥½ç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒã€‚
